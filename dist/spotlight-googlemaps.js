function SpotlightLayer(t,i){if(this.containerDivId=t,this.container=document.getElementById(this.containerDivId),!this.container)throw"SpotlightLayer: Failed to find stated container DIV: "+this.containerDivId;this._latlngs=[],this.options={punchRadius:20,fillColor:"rgba(0, 0, 0, 0.5)",punchOffset:[0,0]};for(var a in i)i.hasOwnProperty(a)&&(this.options[a]=i[a]);this.options.map&&this.setMap(this.options.map)}SpotlightLayer.prototype=new google.maps.OverlayView,SpotlightLayer.prototype.onAdd=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.container.scrollWidth,this.canvas.height=this.container.scrollHeight,this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.container.appendChild(this.canvas),this.canvasContext=this.canvas.getContext("2d"),this.draw()},SpotlightLayer.prototype.onRemove=function(){this.container.removeChild(this.canvas)},SpotlightLayer.prototype.draw=function(){if(!this.container||!this.canvas||!this.canvasContext)throw"SpotlightLayer: Cannot call draw() yet. Try setMap() first.";this.canvas.width=this.container.scrollWidth,this.canvas.height=this.container.scrollHeight,this.canvasContext.fillStyle=this.options.fillColor,this.canvasContext.globalCompositeOperation="source-over",this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.canvas.width,this.canvas.height),this.canvasContext.fill(),this.canvasContext.fillStyle="white",this.canvasContext.globalCompositeOperation="destination-out";for(var t=this.getProjection(),i=this.options.punchRadius,a=2*Math.PI,n=this.options.punchOffset[0],s=this.options.punchOffset[1],o=0,e=this._latlngs.length;e>o;o++){var h=this._latlngs[o],r=t.fromLatLngToContainerPixel(h),c=r.x+n,l=r.y+s;this.canvasContext.beginPath(),this.canvasContext.arc(c,l,i,0,a,!0),this.canvasContext.closePath(),this.canvasContext.fill()}return this},SpotlightLayer.prototype.empty=function(){if(!this.container||!this.canvas||!this.canvasContext)throw"SpotlightLayer: Cannot call empty() yet. Try setMap() first.";return this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),this._latlngs=[],this},SpotlightLayer.prototype.addLatLng=function(t,i){return this._latlngs.push(t),i&&this.draw(),this},SpotlightLayer.prototype.addXY=function(t,i,a){var n=new google.maps.LatLng(t,i);return this.addLatLng(n),a&&this.draw(),this},SpotlightLayer.prototype.addMarker=function(t,i){var a=t.getPosition();return this.addLatLng(a),i&&this.draw(),this};